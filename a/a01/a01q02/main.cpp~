//runtime: O(n^2)
#include<iostream>
#include<algorithm>
double * arrgen(const int n);
void print(const double * arr, const int n);
double abs(double & x);
double comp(const double x, const double y);
double comp_arr(const double * arr, const int n);

int main()
{
  for (int i = 0; i < 10; ++i)
  {
    int n = rand() % 10 + 2;
    double * arr = arrgen(n);
    print(arr, n);
    double smallest = comp_arr(arr, n);
    std::cout << "smallest = " << smallest << std::endl;
  }
}

double comp_arr(const double * arr, const int n)
{
  double smallest = comp(arr[0], arr[1]);
  for (int i = 0; i < n; ++i)
  {
    for (int j = i; j < n; ++j)
    {
      double t = comp(arr[i], arr[j]);
      smallest = (smallest > t && arr[i] != arr[j] ? t : smallest);
    }
  }
  return smallest;
}

double comp(const double x, const double y)
{
  double z = x - y;
  return abs(z);
}

double abs(double & x)
{
  return (x < 0 ? x * -1 : x);
}

void print(const double * arr, const int n)
{
  std::cout << '[';
  for (int i = 0; i < n - 1; ++i)
  {
    std::cout << arr[i] << ", ";
  }
  std::cout << arr[n - 1] << ']' << std::endl;
}

double * arrgen(const int n)
{
  srand((unsigned int) time (NULL));
  double * arr = new double[n];
  for (int i = 0; i < n; ++i)
  {
    arr[i] = (double)rand() / RAND_MAX + rand() % 5;
  }
  return arr;
}
